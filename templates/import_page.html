<!DOCTYPE html>
<html>
<head><title>Деректерді синхрондау</title></head>
<body>
    <h2>Локальді файлды (JSON) серверге жүктеу</h2>
    <input type="file" id="jsonFile" accept=".json">
    <button onclick="uploadData()">Серверге жіберу</button>
    <p id="status"></p>

    <script>
        async function uploadData() {
            const fileInput = document.getElementById('jsonFile');
            if (fileInput.files.length === 0) return alert("Файлды таңдаңыз!");

            const reader = new FileReader();
            reader.onload = async (e) => {
                const content = e.target.result;
                const response = await fetch('/import-json/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: content
                });
                const result = await response.json();
                document.getElementById('status').innerText = result.message;
            };
            reader.readAsText(fileInput.files[0]);
        }
    </script>
</body>
</html>
